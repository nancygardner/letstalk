<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="../bower_components/mqttjs-browser/js/browserMqtt.js"></script>
<script src="../bower_components/angular/angular.js"></script>
<script>

    angular.module('MyModule',[]).controller('MyCtrl',['$scope', function($scope){
        $scope.connect = function() {

            var client = mqtt.connect('ws://localhost:1889'); // you add a ws:// url here
            client.subscribe("mqtt/demo");

            client.on("message", function (topic, payload) {
                alert([topic, payload].join(": "));
                client.end();
            });

            client.publish("mqtt/demo", "hello world!");
        }
    }]);

</script>
<body>


<div class="container" ng-app="MyModule" ng-controller="MyCtrl">

    <button ng-click="connect()">click me</button>
</div>
</body>
</html>